################################################################################
# SYSTEM SERVICES & PROCESSES MANAGEMENT
# Purpose: Control system services, manage processes, check system status
# Used for: Service lifecycle management, process monitoring, system diagnostics
################################################################################

# ========== SERVICE MANAGEMENT WITH SYSTEMCTL ==========
# List all services
sudo systemctl list-units --type=service --all

# List running services
sudo systemctl list-units --type=service --state=running

# Check service status
sudo systemctl status service-name

# Start a service
sudo systemctl start service-name

# Stop a service
sudo systemctl stop service-name

# Restart a service
sudo systemctl restart service-name

# Reload service configuration without restarting
sudo systemctl reload service-name

# Enable service to start at boot
sudo systemctl enable service-name

# Disable service from starting at boot
sudo systemctl disable service-name

# Check if service is enabled
sudo systemctl is-enabled service-name

# ========== LIBVIRT SERVICE ==========
# Start libvirt daemon
sudo systemctl start libvirtd

# Stop libvirt daemon
sudo systemctl stop libvirtd

# Restart libvirt daemon
sudo systemctl restart libvirtd

# Check libvirt status
sudo systemctl status libvirtd

# Enable libvirt autostart
sudo systemctl enable libvirtd

# Check libvirt logs
sudo journalctl -u libvirtd -n 50

# View live libvirt logs
sudo journalctl -u libvirtd -f

# ========== NETWORKING SERVICE ==========
# Start networking service
sudo systemctl start networking

# Restart networking
sudo systemctl restart networking

# Check networking status
sudo systemctl status networking

# Enable networking at boot
sudo systemctl enable networking

# ========== ZABBIX SERVER SERVICE ==========
# Start Zabbix server
systemctl start zabbix-server

# Check Zabbix status
systemctl status zabbix-server

# Stop Zabbix server
systemctl stop zabbix-server

# Restart Zabbix server
systemctl restart zabbix-server

# Enable Zabbix autostart
sudo systemctl enable zabbix-server

# ========== ZABBIX AGENT SERVICE ==========
# Start Zabbix agent
systemctl start zabbix-agent

# Check agent status
systemctl status zabbix-agent

# Stop agent
systemctl stop zabbix-agent

# ========== WEB SERVER SERVICES ==========
# Start Nginx
sudo systemctl start nginx

# Stop Nginx
sudo systemctl stop nginx

# Restart Nginx
sudo systemctl restart nginx

# Check Nginx status
sudo systemctl status nginx

# Enable Nginx at boot
sudo systemctl enable nginx

# ========== DATABASE SERVICES ==========
# Start MySQL/MariaDB
sudo systemctl start mysql

# Stop MySQL/MariaDB
sudo systemctl stop mysql

# Check MySQL status
sudo systemctl status mysql

# Restart MySQL
sudo systemctl restart mysql

# ========== PROCESS MANAGEMENT ==========
# List all processes
ps aux

# Show processes in tree view
pstree

# Show specific process
ps aux | grep process-name

# Show running processes with resource usage
top

# Continuous monitoring with top
top -c

# Show process details with full command
ps aux | grep nginx

# ========== PROCESS CONTROL ==========
# Kill process by name
pkill processname

# Kill specific process by PID
kill -9 PID

# Kill all instances of process
pkill -f "process-pattern"

# Send signal to process
kill -TERM PID

# Show available signals
kill -l

# ========== MONITOR SYSTEM RESOURCES ==========
# Show CPU and memory usage
top

# Show memory usage
free -h

# Show memory in MB
free -m

# Show memory usage by process
ps aux --sort=-%mem | head -10

# Show CPU usage by process
ps aux --sort=-%cpu | head -10

# Check system load average
uptime

# Show detailed system information
uname -a

# Show CPU information
cat /proc/cpuinfo | grep -E 'processor|model name' | head -5

# ========== SYSTEMD JOURNALS & LOGS ==========
# View systemd journal
sudo journalctl

# View last 50 journal entries
sudo journalctl -n 50

# View journal for specific service
sudo journalctl -u service-name

# Follow journal in real-time
sudo journalctl -f

# View journal since specific time
sudo journalctl --since "2024-01-01"

# View errors only
sudo journalctl -p err

# Clear old journal entries
sudo journalctl --vacuum=7d

# ========== INIT SYSTEM CHECK ==========
# Check which init system is being used
systemctl --version

# List system targets
sudo systemctl list-units --type=target

# Show default target (runlevel)
sudo systemctl get-default

# Set default target to graphical
sudo systemctl set-default graphical.target

# Set default to multi-user
sudo systemctl set-default multi-user.target

# ========== REBOOT & SHUTDOWN ==========
# Reboot system
sudo reboot

# Reboot after 10 minutes
sudo shutdown -r +10

# Shutdown immediately
sudo poweroff

# Graceful shutdown in 30 minutes
sudo shutdown -h +30

# Cancel scheduled shutdown
sudo shutdown -c

# ========== SERVICE DEPENDENCIES ==========
# Show service dependencies
systemctl list-dependencies service-name

# Show reverse dependencies
systemctl list-dependencies service-name --reverse

# Check service units
systemctl cat service-name
