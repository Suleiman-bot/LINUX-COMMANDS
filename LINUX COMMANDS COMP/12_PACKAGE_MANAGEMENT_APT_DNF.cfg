################################################################################
# PACKAGE MANAGEMENT - APT & DNF
# Purpose: Install, update, and manage packages on Linux systems
# Used for: System maintenance, software installation
################################################################################

# ========== DEBIAN/UBUNTU - APT PACKAGE MANAGER ==========
# Update package list
sudo apt update

# Upgrade all installed packages
sudo apt upgrade -y

# Update and upgrade in one command
sudo apt update && sudo apt upgrade -y

# Install a package
sudo apt install package-name -y

# Install multiple packages
sudo apt install package1 package2 package3 -y

# Remove a package
sudo apt remove package-name -y

# Remove package and its configuration files
sudo apt purge package-name -y

# Remove unused dependencies
sudo apt autoremove -y

# Clean package cache
sudo apt clean

# Search for a package
apt search package-name

# Show package information
apt show package-name

# List installed packages
apt list --installed

# ========== REDHAT/CENTOS/ALMALINUX - DNF PACKAGE MANAGER ==========
# Update package list
sudo dnf check-update

# Install a package
sudo dnf install package-name -y

# Install multiple packages
sudo dnf install package1 package2 package3 -y

# Remove a package
sudo dnf remove package-name -y

# Upgrade all packages
sudo dnf upgrade -y

# Downgrade a package to older version
sudo dnf downgrade package-name -y

# Search for a package
sudo dnf search package-name

# Show package information
sudo dnf info package-name

# List installed packages
sudo dnf list installed

# Clean package cache
sudo dnf clean all

# ========== REPOSITORY MANAGEMENT - APT ==========
# Add a PPA repository (Ubuntu)
sudo add-apt-repository ppa:repository-name -y

# Add a PPA repository (without auto-update)
sudo add-apt-repository ppa:repository-name

# Remove a PPA repository
sudo add-apt-repository --remove ppa:repository-name -y

# List all repositories
sudo apt-cache policy

# Edit repositories manually
sudo nano /etc/apt/sources.list

# ========== REPOSITORY MANAGEMENT - DNF ==========
# Add a repository
sudo dnf config-manager --add-repo repository-url

# List all repositories
sudo dnf repolist

# Enable a disabled repository
sudo dnf config-manager --set-enabled repository-name

# Disable a repository
sudo dnf config-manager --set-disabled repository-name

# Show repository information
sudo dnf repoinfo repository-name

# ========== COMMON PACKAGES TO INSTALL ==========
# Essential development tools (Ubuntu)
sudo apt install -y build-essential git curl wget unzip

# Essential tools (CentOS/AlmaLinux)
sudo dnf install -y git curl wget unzip make gcc

# Install traceroute (Ubuntu)
sudo apt install traceroute -y

# Install traceroute (CentOS/AlmaLinux)
sudo dnf install traceroute -y

# Install GNS3 PPA (Ubuntu)
sudo add-apt-repository ppa:gns3/ppa -y
sudo apt update
sudo apt install gns3-server gns3-gui -y

# ========== CHECK PACKAGE VERSION ==========
# Show version of installed package
apt show package-name
sudo dnf info package-name

# Check specific command version
command --version
command -v

# ========== LOCK/HOLD PACKAGE VERSION ==========
# Prevent package from being upgraded (APT)
sudo apt-mark hold package-name

# Allow package to be upgraded again
sudo apt-mark unhold package-name

# Show held packages
apt-mark showhold

# ========== FIX BROKEN DEPENDENCIES ==========
# Fix broken dependencies (APT)
sudo apt --fix-broken install

# Fix broken packages (APT)
sudo apt --fix-missing install

# Fix broken dependencies (DNF)
sudo dnf install --allowerasing

# ========== PACKAGE VERSION MANAGEMENT ==========
# Install specific package version (APT)
sudo apt install package-name=version-number -y

# Upgrade to specific version (APT)
sudo apt upgrade package-name=version-number -y

# Install specific package version (DNF)
sudo dnf install package-name-version-number -y

# List available versions
apt-cache policy package-name
sudo dnf list package-name --showduplicates

# ========== SYSTEM UPGRADE ==========
# Full system distribution upgrade (APT)
sudo apt dist-upgrade -y

# Full system update (DNF)
sudo dnf system-upgrade download --releasever=9
sudo dnf system-upgrade reboot

# ========== DEPENDENCIES CHECK ==========
# Show package dependencies (APT)
apt depends package-name
apt-cache depends package-name

# Show what provides this package
apt-cache search package-name

# Show package dependencies (DNF)
sudo dnf deplist package-name

# ========== VERIFY PACKAGE INTEGRITY ==========
# Check if all dependencies are satisfied
sudo apt check

# Verify package signatures (APT)
sudo apt-key list

# Clean and repair package database
sudo apt clean
sudo apt autoclean
sudo dpkg --configure -a
